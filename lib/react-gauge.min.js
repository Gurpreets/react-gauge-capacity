var React=require("react"),PropTypes=require("prop-types"),createClass=require("create-react-class");Object.assign(React,{PropTypes:PropTypes,createClass:createClass});var ReactGauge=React.createClass({displayName:"ReactGauge",getInitialState:function(){return{radius:this.props.radius,arcStrokeWidth:this.props.arcStrokeWidth,tickOffset:this.props.tickOffset,tickStrokeWidth:this.props.tickStrokeWidth,tickLength:this.props.tickLength,miniTickLength:this.props.miniTickLength,miniTickStrokeWidth:this.props.miniTickStrokeWidth,scaleDivisionNumber:this.props.scaleDivisionNumber,tickLabelOffset:this.props.tickLabelOffset,centralCircleRadius:this.props.centralCircleRadius,isInnerNumbers:this.props.isInnerNumbers,arrowValue:this.props.arrowValue,arrowColor:this.props.arrowColor,marks:this.props.marks,ranges:this.props.ranges,aperture:this.props.aperture,contentWidth:this.props.contentWidth,svgContainerWidth:this.props.contentWidth,svgContainerHeight:this.props.svgContainerHeight,gaugeCenterLineHeight:this.props.gaugeCenterLineHeight,viewBox:this.props.viewBox}},getDefaultProps:function(){return{radius:175,arcStrokeWidth:3,tickOffset:7,tickStrokeWidth:2,tickLength:5,miniTickLength:1,miniTickStrokeWidth:1,scaleDivisionNumber:10,tickLabelOffset:10,centralCircleRadius:10,isInnerNumbers:!1,arrowValue:0,arrowColor:"#354357",marks:[0,1,2,3,4,5,6],ranges:[{start:0,end:.75,color:"#666"},{start:.75,end:5.5/6,color:"#ffa500"},{start:5.5/6,end:1,color:"#ff0000"}],aperture:80,contentWidth:450,svgContainerWidth:450,svgContainerHeight:450,gaugeCenterLineHeight:35,viewBox:"30 0 300 200"}},handleChange:function(e){this.setState({radius:e.target.radius,arcStrokeWidth:e.target.arcStrokeWidth,tickOffset:e.target.tickOffset,tickStrokeWidth:e.target.tickStrokeWidth,tickLength:e.target.tickLength,miniTickLength:e.target.miniTickLength,miniTickStrokeWidth:e.target.miniTickStrokeWidth,scaleDivisionNumber:e.target.scaleDivisionNumber,tickLabelOffset:e.target.tickLabelOffset,centralCircleRadius:e.target.centralCircleRadius,isInnerNumbers:e.target.isInnerNumbers,arrowValue:e.target.arrowValue,arrowColor:e.target.arrowColor,marks:e.target.marks,ranges:e.target.ranges,aperture:e.target.aperture,contentWidth:e.target.contentWidth,svgContainerWidth:e.target.svgContainerWidth,svgContainerHeight:e.target.svgContainerHeight,gaugeCenterLineHeight:e.target.gaugeCenterLineHeight,viewBox:e.target.viewBox})},propTypes:{radius:React.PropTypes.number,arcStrokeWidth:React.PropTypes.number,tickOffset:React.PropTypes.number,tickStrokeWidth:React.PropTypes.number,tickLength:React.PropTypes.number,miniTickLength:React.PropTypes.number,miniTickStrokeWidth:React.PropTypes.number,scaleDivisionNumber:React.PropTypes.number,tickLabelOffset:React.PropTypes.number,centralCircleRadius:React.PropTypes.number,isInnerNumbers:React.PropTypes.bool,arrowValue:React.PropTypes.number,arrowColor:React.PropTypes.string,marks:React.PropTypes.array,ranges:React.PropTypes.arrayOf(React.PropTypes.shape({start:React.PropTypes.number.isRequired,end:React.PropTypes.number.isRequired,color:React.PropTypes.string.isRequired})).isRequired,aperture:React.PropTypes.number,contentWidth:React.PropTypes.number,svgContainerWidth:React.PropTypes.number,svgContainerHeight:React.PropTypes.number,gaugeCenterLineHeight:React.PropTypes.number,viewBox:React.PropTypes.string.isRequired},render:function(){var e,t,r,i=this.state.radius,a=this.state.arcStrokeWidth,s=this.state.tickOffset,n=this.state.tickStrokeWidth,o=this.state.tickLength,c=this.state.miniTickLength,h=this.state.miniTickStrokeWidth,p=this.state.scaleDivisionNumber,g=this.state.tickLabelOffset,u=this.state.centralCircleRadius,l=this.state.isInnerNumbers,k=this.props.arrowValue,d=this.state.arrowColor,m=this.state.marks,y=this.state.ranges,f=this.state.aperture,R=this.state.contentWidth,x=this.state.gaugeCenterLineHeight,b=(this.state.viewBox,{x:R/2,y:R/2}),v=f/2-180,T=180-f/2-v,W=function(e,t,r,i){var a=(i-90)*Math.PI/180;return{x:e+r*Math.cos(a),y:t+r*Math.sin(a)}};return React.createElement("svg",{className:"gauge",width:this.state.svgContainerWidth,height:this.state.svgContainerHeight,shapeRendering:"geometricPrecision",viewBox:this.state.viewBox},(r=[],y.forEach(function(e,t){var s,n,o,c;r.push((s=v+e.start*T,n=v+e.end*T,o=e.color,c=t,React.createElement("path",{className:"gauge-arc-"+c,key:c,fill:"none",stroke:o,strokeWidth:a,d:function(e,t,r,i,a){var s=W(e,t,r,a),n=W(e,t,r,i),o=a-i<=180?"0":"1";return["M",s.x,s.y,"A",r,r,0,o,0,n.x,n.y].join(" ")}(b.x,b.y,i,s,n)})))}),r),(e=[],t=0,m.forEach(function(r,a,n){if(0!==a)for(var o=T/(n.length-1)/p,g=1;g<p;g++){var u=W(b.x,b.y,i+(l?-1:1)*s,v+a*T/(n.length-1)-o*g),k=W(b.x,b.y,i+(l?-1:1)*(s+c),v+a*T/(n.length-1)-o*g);e.push(React.createElement("line",{className:"gauge-mini-tick",key:t++,stroke:"#000000",x1:u.x,y1:u.y,x2:k.x,y2:k.y,strokeWidth:h}))}}),m.forEach(function(r,a,c){var h=W(b.x,b.y,i+(l?-1:1)*s,v+a*T/(c.length-1)),p=W(b.x,b.y,i+(l?-1:1)*(s+o),v+a*T/(c.length-1));e.push(React.createElement("line",{className:"gauge-tick",key:t++,stroke:"#a3a3a3",x1:h.x,y1:h.y,x2:p.x,y2:p.y,strokeWidth:n}))}),e),function(){var e=[],t=0;return m.forEach(function(r,a,c){var h=W(b.x,b.y,i+(l?-1:1)*(s+o+g),v+a*T/(c.length-1)),p="",u=0;t==parseInt(c.length/2)&&(p=" gauge-center-label",u=8),e.push(React.createElement("text",{className:"gauge-label"+p,key:t++,fill:"#666666",x:h.x,y:h.y-u,alignmentBaseline:"middle",textAnchor:"middle",strokeWidth:n},r))}),e}(),function(){var e=[],t=0;return e.push(React.createElement("line",{className:"gauge-tick",key:t++,stroke:"#a3a3a3",x1:b.x,y1:x,x2:b.x,y2:b.x,strokeWidth:n})),e}(),function(){var e=[],t=0,r=W(b.x,b.y,u/2,v+T*k-90),a=W(b.x,b.y,i+(l?-1:1)*(s+o/2),v+T*k),n=W(b.x,b.y,u/2,v+T*k+90),c=["M",r.x,r.y,"L",a.x,a.y,"L",n.x,n.y,"Z"].join(" ");return e.push(React.createElement("path",{className:"gauge-arrow",key:t++,fill:d,d:c})),e.push(React.createElement("circle",{className:"gauge-arrow",key:t++,fill:d,cx:b.x,cy:b.y,r:u})),e}())}});module.exports=ReactGauge;